!function(e){var t={};function o(d){if(t[d])return t[d].exports;var n=t[d]={i:d,l:!1,exports:{}};return e[d].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,d){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:d})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var d=Object.create(null);if(o.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(d,n,function(t){return e[t]}.bind(null,n));return d},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);let d=0;let n=0;let c=0;let r=[],l=(()=>{let e=[],t=[],o=[];const r=t=>e.find(e=>e.getId()===Number(t)),l=e=>t.find(t=>t.getId()===Number(e)),a=t=>{let o=(e=>{let t=d;d++;let o=[];return{id:t,toDos:o,getId:()=>t,getTitle:()=>e,getToDos:()=>o,setTitle:t=>{e=t},addToDo:e=>{e.setProjectId(t),o.push(e)}}})(t);e.push(o)},s=(e,o,d,c)=>{let r=((e,t,o)=>{let d,c=n;n++;let r=[],l=!1;return{id:c,projectId:d,notes:r,getId:()=>c,getProjectId:()=>d,getTitle:()=>e,getDescription:()=>t,getDueDate:()=>o,getChecked:()=>l,getNotes:()=>r,addNote:e=>{e.setToDoId(c),r.push(e)},setProjectId:e=>{d=e},setTitle:t=>{e=t},setDescription:e=>{t=e},toggleCheck:()=>{l=!1===l}}})(o,d,c);t.push(r),e.addToDo(r)},i=(e,t)=>{let d=(e=>{let t,o=c;c++;return{id:o,toDoId:t,getId:()=>o,getToDoId:()=>t,getText:()=>e,setText:t=>{e=t},setToDoId:e=>{t=e}}})(t);o.push(d),e.addNote(d)};return{createSampleData:(t,o,d)=>{for(let e=0;e<t;e++)a("Project "+e);e.forEach(e=>{for(let t=0;t<o;t++)s(e,`ToDo number ${t}.`,"This is my random description","2020")}),e.forEach(e=>{e.getToDos().forEach(e=>{for(let t=0;t<d;t++)i(e,`This is the note number ${t}.`)})})},addProjectToProjects:a,addToDoToProject:s,addNoteToToDo:i,deleteProject:t=>{let o=e.indexOf(t);e.splice(o,1)},deleteToDo:e=>{let o=t.indexOf(e);t.splice(o,1);let d=r(e.getProjectId()),n=d.getToDos().indexOf(e);d.getToDos().splice(n,1)},deleteNote:e=>{let t=o.indexOf(e);o.splice(t,1);let d=l(e.getToDoId()),n=d.getNotes().indexOf(e);d.getNotes().splice(n,1)},getProjects:()=>e,getToDos:()=>t,getNotes:()=>o,findProject:r,findToDo:l,findNote:e=>o.find(t=>t.getId()===Number(e))}})();l.createSampleData(3,3,2),r=l.getProjects(),(()=>{const e=document.querySelector("#projects"),t=document.querySelector("#todos-view"),o=document.querySelector("#todo-view"),d=document.querySelector("#new-project-button"),n=document.querySelector("#new-project-input"),c=document.querySelector("#add-todo-form"),r=e=>{for(;e.firstChild;)e.removeChild(e.lastChild)},l=e=>{e.classList.contains("unchecked")?(e.classList.add("checked"),e.classList.remove("unchecked"),e.parentNode.classList.add("checked"),e.parentNode.classList.remove("unchecked")):(e.classList.add("unchecked"),e.classList.remove("checked"),e.parentNode.classList.add("unchecked"),e.parentNode.classList.remove("checked"))},a=(e,t)=>{r(o);let d=m(e),n=p(e);o.append(d,n),s(t),i(t)},s=e=>{const t=document.querySelector("#add-note-button"),o=document.querySelector("#note-text");t.addEventListener("click",t=>{let d=o.value,n=e.findToDo(o.dataset.todoId);e.addNoteToToDo(n,d),a(n,e)})},i=e=>{document.querySelectorAll(".delete-note").forEach(t=>{t.addEventListener("click",o=>{let d=e.findNote(t.dataset.noteId),n=e.findToDo(d.getToDoId());e.deleteNote(d),a(n,e)})})},u=e=>{document.querySelectorAll(".todo-preview, .todo-preview-title, time").forEach(t=>{t.addEventListener("click",t=>{if(t.target!==t.currentTarget)return;let o=e.findToDo(t.target.dataset.todoId);a(o,e)})})},m=e=>{let t=document.createElement("div");t.classList.add("add-form");let o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("name","note-text"),o.setAttribute("id","note-text"),o.classList.add("new-input"),o.dataset.todoId=e.getId();let d=document.createElement("label");d.textContent="New Note",d.htmlFor="note-text",d.classList.add("new-label");let n=document.createElement("button");return n.setAttribute("id","add-note-button"),n.classList.add("new-button"),n.textContent="+",t.append(d,o,n),t},p=e=>{let t=document.createElement("div");t.classList.add("todo");let o=document.createElement("div");o.classList.add("todo-header"),o.dataset.todoId=e.getId();let d=document.createElement("h3");d.classList.add("todo-preview-title"),d.classList.add("todo-title"),d.textContent=e.getTitle(),d.dataset.todoId=e.getId();let n=document.createElement("time");n.textContent=e.getDueDate(),n.dataset.todoId=e.getId();let c=document.createElement("p");c.textContent=e.getDescription(),c.classList.add("description");let r=document.createElement("ul");return r.classList.add("notes"),e.getNotes().forEach(e=>{let t=document.createElement("li");t.textContent=e.getText(),t.dataset.noteId=e.getId();let o=document.createElement("button");o.textContent="ðŸ—‘",o.classList.add("delete-note"),o.dataset.noteId=e.getId(),r.append(t,o)}),o.append(d,n),t.append(o,c,r),t},f=(e,d)=>{r(t),r(o),E(e),u(d),(e=>{document.querySelectorAll("input[type=checkbox]").forEach(t=>{t.addEventListener("change",o=>{l(t),e.findToDo(t.dataset.todoId).toggleCheck()})})})(d),g(d)},g=e=>{document.querySelectorAll(".delete").forEach(t=>{t.addEventListener("click",o=>{console.log("moin");let d=e.findToDo(t.dataset.todoId),n=e.findProject(d.getProjectId());e.deleteToDo(d),f(n,e)})})},h=e=>{const t=document.querySelector("#add-todo-button"),o=document.querySelector("#todo-title"),d=document.querySelector("#todo-description"),n=document.querySelector("#todo-date"),c=document.querySelector("#projects-selector");t.addEventListener("click",t=>{const r=o.value,l=d.value,a=n.value,s=c.options[c.selectedIndex].dataset.projectId,i=e.findProject(s);e.addToDoToProject(i,r,l,a),f(i,e)})},E=e=>{e.getToDos().forEach(e=>{let o=I(e);t.appendChild(o)})},j=t=>{let o=document.createElement("p");o.classList.add("input-field");let d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("name","todo-title"),d.setAttribute("id","todo-title");let n=document.createElement("label");n.textContent="Title",n.htmlFor="todo-title",o.append(n,d);let c=document.createElement("p");c.classList.add("input-field");let r=document.createElement("input");r.setAttribute("type","textarea"),r.setAttribute("name","todo-description"),r.setAttribute("id","todo-description");let l=document.createElement("label");l.textContent="Description",l.htmlFor="todo-description",c.append(l,r);let a=document.createElement("p");a.classList.add("input-field");let s=document.createElement("input");s.setAttribute("type","date"),s.setAttribute("name","todo-date"),s.setAttribute("id","todo-date");let i=document.createElement("label");i.textContent="Due Date",i.htmlFor="todo-date",a.append(i,s);let u=document.createElement("p");u.classList.add("input-field");let m=document.createElement("label");m.textContent="Project",m.htmlFor="projects-selector";let p=document.createElement("select");p.id="projects-selector",p.setAttribute("name","projects-selector"),e.childNodes.forEach(e=>{if(null!==e.firstChild){let o=document.createElement("option");o.value=e.firstChild.textContent,o.dataset.projectId=e.firstChild.dataset.projectId,o.textContent=o.value,o.value===t.getTitle()&&o.setAttribute("selected",!0),p.appendChild(o)}}),u.append(m,p);let f=document.createElement("button");f.setAttribute("id","add-todo-button"),f.textContent="New todo";let g=document.createElement("div");return g.append(o,c,a,u,f),g},I=e=>{let t=document.createElement("div");t.classList.add("todo-preview"),t.dataset.todoId=e.getId();let o=document.createElement("h3");o.classList.add("todo-preview-title"),o.textContent=e.getTitle(),o.dataset.todoId=e.getId();let d=document.createElement("time");d.textContent=e.getDueDate(),d.dataset.todoId=e.getId();let n=document.createElement("button");n.classList.add("delete"),n.dataset.todoId=e.getId(),n.textContent="ðŸ—‘";let c=document.createElement("input");return c.type="checkbox",c.dataset.todoId=e.getId(),c.classList.add("checkBox"),c.classList.add("unchecked"),t.append(c,o,d,n),t},b=t=>{r(e),T(t.getProjects()),x(t),D(t,u)},T=t=>{t.forEach(t=>{e.appendChild(L(t))})},D=e=>{document.querySelectorAll(".project").forEach(t=>{t.addEventListener("click",t=>{((e,t)=>{r(c),c.appendChild(j(e)),h(t),f(e,t)})(e.findProject(t.target.dataset.projectId),e)})})},v=e=>{d.addEventListener("click",t=>{e.addProjectToProjects(n.value),b(e)})},x=e=>{document.querySelectorAll(".delete-project").forEach(t=>{t.addEventListener("click",o=>{let d=e.findProject(t.dataset.projectId);e.deleteProject(d),b(e)})})},L=e=>{const t=document.createElement("div"),o=document.createElement("h3"),d=document.createElement("button");return o.textContent=e.getTitle(),o.classList.add("project"),o.dataset.projectId=e.getId(),d.textContent="ðŸ—‘",d.classList.add("delete-project"),d.dataset.projectId=e.getId(),t.classList.add("project-left"),t.append(o,d),t};return{showProjects:T,addNewProject:v,refreshProjectsView:e=>{b(e),v(e)},showToDosOfClickedProject:D,showToDoOfClickedToDo:u}})().refreshProjectsView(l)}]);