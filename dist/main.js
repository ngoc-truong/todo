!function(e){var t={};function o(r){if(t[r])return t[r].exports;var d=t[r]={i:r,l:!1,exports:{}};return e[r].call(d.exports,d,d.exports,o),d.l=!0,d.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var d in e)o.d(r,d,function(t){return e[t]}.bind(null,d));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);let r=0;const d=e=>{let t=r;r++;let o=[];return{id:t,toDos:o,getId:()=>t,getTitle:()=>e,getToDos:()=>o,setTitle:t=>{e=t},addToDo:e=>{e.setProjectId(t),o.push(e)}}};let n=0;let c=0;let l=[],i=(()=>{let e=[],t=[],o=[];const r=()=>{let t=d("");t.setTitle("Projectname "+t.getId()),e.push(t)},l=e=>{let o=((e,t,o)=>{let r,d=n;n++;let c=[];return{id:d,projectId:r,notes:c,getId:()=>d,getProjectId:()=>r,getTitle:()=>e,getDescription:()=>t,getDueDate:()=>o,getChecked:()=>!1,getNotes:()=>c,addNote:e=>{e.setToDoId(d),c.push(e)},setProjectId:e=>{r=e},setTitle:t=>{e=t},setDescription:e=>{t=e}}})("","","10-2020");o.setTitle(`ToDo ${o.getId()} in project ${e.getId()}`),o.setDescription(`This is my toDo number ${o.getId()} in my project ${e.getId()}: ${e.getTitle()}`),t.push(o),e.addToDo(o)},i=e=>{let t=(e=>{let t,o=c;c++;return{id:o,toDoId:t,getId:()=>o,getToDoId:()=>t,getText:()=>e,setText:t=>{e=t},setToDoId:e=>{t=e}}})("");t.setText(`This is my note number ${t.getId()} for my todo ${e.getId()}`),o.push(t),e.addNote(t)};return{createSampleData:(t,o,d)=>{for(let e=0;e<t;e++)r();e.forEach(e=>{for(let t=0;t<o;t++)l(e)}),e.forEach(e=>{e.getToDos().forEach(e=>{for(let t=0;t<d;t++)i(e)})})},addNewProjectWithTitle:t=>{let o=d(t);e.push(o)},getProjects:()=>e,getToDos:()=>t,getNotes:()=>o,findProject:t=>e.find(e=>e.getId()===Number(t)),findToDo:e=>t.find(t=>t.getId()===Number(e)),findNote:e=>o.find(t=>t.getId()===Number(e))}})();i.createSampleData(3,3,2),l=i.getProjects();let s=(()=>{const e=document.querySelector("#projects-view"),t=document.querySelector("#todos-view"),o=document.querySelector("#todo-view"),r=document.querySelector("#new-project-button"),d=document.querySelector("#new-project"),n=e=>{for(;e.firstChild;)e.removeChild(e.lastChild)},c=e=>{let t=document.createElement("div");t.classList.add("todo");let o=l(e);o.classList.add("todo-header");let r=document.createElement("p");r.textContent=e.getDescription(),r.classList.add("description");let d=document.createElement("ul");return d.classList.add("notes"),e.getNotes().forEach(e=>{let t=document.createElement("li");t.textContent=e.getText(),d.appendChild(t)}),t.append(o,r,d),t},l=e=>{let t=document.createElement("div");t.classList.add("todo-preview"),t.dataset.todoId=e.getId();let o=document.createElement("h3");o.classList.add("todo-preview-title"),o.textContent=e.getTitle(),o.dataset.todoId=e.getId();let r=document.createElement("time");r.textContent=e.getDueDate(),r.dataset.todoId=e.getId();let d=document.createElement("button");d.classList.add("delete"),d.textContent="Delete";let n=document.createElement("input");return n.type="checkbox",n.classList.add("checkBox"),t.append(n,o,r,d),t},i=t=>{t.forEach(t=>{e.appendChild(s(t))})},s=e=>{const t=document.createElement("div"),o=document.createElement("h3");return o.textContent=e.getTitle(),o.classList.add("project"),o.dataset.projectId=e.getId(),t.classList.add("project-left"),t.appendChild(o),t};return{showProjects:i,addNewProject:e=>{r.addEventListener("click",t=>{e.addNewProjectWithTitle(d.value),i(e.getProjects())})},showToDosOfClickedProject:(e,r)=>{document.querySelectorAll(".project").forEach(d=>{d.addEventListener("click",d=>{n(t),n(o),e.findProject(d.target.dataset.projectId).getToDos().forEach(e=>{let o=l(e);t.appendChild(o)}),r(e)})})},showToDo:e=>{document.querySelectorAll(".todo-preview, .todo-preview-title, time").forEach(t=>{t.addEventListener("click",t=>{if(t.target!==t.currentTarget)return;n(o);let r=e.findToDo(t.target.dataset.todoId),d=c(r);o.appendChild(d)})})}}})();s.showProjects(l),s.showToDosOfClickedProject(i,s.showToDo),s.addNewProject(i)}]);